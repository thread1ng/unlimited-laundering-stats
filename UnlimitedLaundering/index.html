<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unlimited Laundering Stats</title>

  <!-- Particles.js CDN -->
  <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden; /* Hide overflow for particles effect */
      font-family: 'Courier New', Courier, monospace;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      position: relative;
      z-index: 1;
      background-color: #000; /* Black background */
    }

    /* Title Styling (Back to Green) */
    #title {
      font-size: 3rem; /* Reduced size */
      position: absolute;
      top: 20px; /* Adjust the position */
      left: 20px; /* Adjust the position */
      font-weight: bold;
      text-transform: uppercase;
      color: #00FF00; /* Bright Green for title */
      text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.7);
      z-index: 2;
    }

    /* Community Text Styling (Big and above the amount) */
    #community-text {
      font-size: 4rem; /* Increase font size for Community */
      font-weight: bold;
      z-index: 2;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
      margin-bottom: 20px; /* Space between Community and Amount */
    }

    /* Amount Styling (Slightly smaller than Community) */
    #community-stats {
      font-size: 3.5rem; /* Increase size for the amount */
      z-index: 2;
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
    }

    /* Container for particles */
    #particles-js {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0; /* Particles are behind content */
    }

    /* Download Link Styling */
    #download-link {
      font-size: 2rem;
      color: #FFD700; /* Bright Yellow for the download link */
      text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.7);
      position: absolute;
      bottom: 20px;
      text-decoration: none;
      z-index: 2;
      font-weight: bold;
    }

    /* Hover effect for download link */
    #download-link:hover {
      color: #FF4500; /* Change to orange on hover */
    }
  </style>
</head>
<body>

  <!-- Title: Unlimited Laundering in Top Left -->
  <div id="title">Unlimited Laundering</div>

  <!-- Community Text -->
  <div id="community-text">Community</div>

  <!-- Community Stats -->
  <div id="community-stats">$100,000 Laundered</div>

  <!-- Particles container -->
  <div id="particles-js"></div>

  <!-- Download Link -->
  <a id="download-link" href="https://www.nexusmods.com/schedule1/mods/285" target="_blank">Download the Mod</a>

  <script>
    // Initialize particles.js effect
    particlesJS('particles-js', {
      particles: {
        number: {
          value: 100, // Number of particles
          density: {
            enable: true,
            value_area: 800
          }
        },
        shape: {
          type: 'circle', // Shape of the particles
        },
        opacity: {
          value: 0.5,
          random: true,
          anim: {
            enable: true,
            speed: 1,
            opacity_min: 0.1
          }
        },
        size: {
          value: 3,
          random: true,
          anim: {
            enable: true,
            speed: 5,
            size_min: 0.1
          }
        },
        line_linked: {
          enable: true,
          distance: 150,
          color: '#0f0', // Line color between particles (Green)
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 2,
          direction: 'none',
          random: true,
          straight: false,
          out_mode: 'out',
          bounce: false
        }
      },
      interactivity: {
        detect_on: 'window',
        events: {
          onhover: {
            enable: true,
            mode: 'repulse' // Repulsion effect on hover
          },
          onclick: {
            enable: true,
            mode: 'push' // Particles are added when clicked
          }
        }
      },
      retina_detect: true
    });

    // Function to fetch the laundered amount from the Google Sheets API
    async function fetchLaunderedAmount() {
      try {
        const response = await fetch("https://script.google.com/macros/s/AKfycbxaAdCCGwza41CsxK9Wi7QTmIZ0UJ4WLDdINAiICMrVGn43EHk0xGNEWNzkEjrAjKF5Mw/exec");
        const data = await response.json();
        const amount = data.TotalLaundered.toLocaleString();
        document.getElementById("community-stats").textContent = `$${amount} Laundered`;
      } catch (error) {
        document.getElementById("community-stats").textContent = "Error loading data";
        console.error("Fetch error:", error);
      }
    }

    // Fetch the laundered amount every 15 seconds
    fetchLaunderedAmount();
    setInterval(fetchLaunderedAmount, 15000);
  </script>
</body>
</html>
